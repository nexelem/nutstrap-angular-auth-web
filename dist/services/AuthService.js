(function(){var AuthService;AuthService=function(){function AuthService($log,$q,flash,$location,HttpService,UserModel,UserConfig){this.$q=$q,this.flash=flash,this.$location=$location,this.HttpService=HttpService,this.UserModel=UserModel,this.UserConfig=UserConfig,this.$log=$log.getInstance("Nutstrap"),this.$log.debug("constructing")}return AuthService.prototype.login=function(userlogin){var deferred;return this.$log.debug("login"),deferred=this.$q.defer(),this.HttpService.post(this.UserConfig.API_LOGIN,userlogin).then(function(_this){return function(data){return _this.flash.i18nSuccess("login_success"),_this.UserModel.authenticatedUser=data,deferred.resolve(data)}}(this),function(_this){return function(error){return _this.flash.i18nError("login_failure"),_this.UserModel.authenticatedUser=void 0,deferred.reject(error)}}(this)),deferred.promise},AuthService.prototype.logout=function(){var deferred;return this.$log.debug("logout"),deferred=this.$q.defer(),this.HttpService.get(this.UserConfig.API_LOGOUT).then(function(_this){return function(data){return _this.flash.i18nSuccess("logout_success"),_this.UserModel.authenticatedUser=void 0,deferred.resolve(data)}}(this),function(_this){return function(error){return _this.flash.i18nError("logout_failure"),_this.UserModel.authenticatedUser=void 0,deferred.reject(error)}}(this)),deferred.promise},AuthService}(),authModule.service("AuthService",AuthService)}).call(this);