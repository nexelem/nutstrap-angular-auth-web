(function(){authModule.directive("hasPermission",function($log,UserModel,PermissionModel){return{restrict:"A",link:function(scope,elm,attrs,ctrl){return scope.$watch(function(){return UserModel.authenticatedUser},function(newValue,oldValue){var accessSuccessful,allowedRoles,ref;if(elm.removeClass("ng-show"),elm.addClass("ng-hide"),UserModel.authenticatedUser){if(allowedRoles=PermissionModel.roles.map(function(kv){return kv.key}),!(null!=allowedRoles?allowedRoles.length:void 0))return $log.error("AllowedRoles not found!");if(!(null!=(ref=attrs.hasPermission)?ref.length:void 0))return $log.error("Attribute value invalid "+attrs.hasPermission);if(accessSuccessful=UserModel.userHasPermission(attrs.hasPermission))return elm.removeClass("ng-hide"),elm.addClass("ng-show")}})}}})}).call(this);