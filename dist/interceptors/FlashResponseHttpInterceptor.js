(function(){authModule.config(function($provide){return $provide.factory("FlashResponseHttpInterceptor",function($q,$log,$location,$injector,UserModel){return{responseError:function(rejection){var ref,ref1,ref2;return this.$log=$log.getInstance("AuthService"),403===(ref=rejection.status)&&"/login"!==rejection.config.url&&(this.$log.info("403 and not /login. Redirect to /"),$location.path("/")),403===(ref1=rejection.status)&&"/login"===rejection.config.url&&($injector.get("flash").i18nError("login_failure"),this.$log.info("403 and /login. Redirect to /login"),UserModel.authenticatedUser=void 0,$location.path("/login")),401===(ref2=rejection.status)&&"/authenticated"!==rejection.config.url&&(this.$log.info("401 and not /authenticated. Redirect to / with message"),$injector.get("flash").i18nError("user_action_unauthorised_session_lost"),UserModel.authenticatedUser=void 0,$location.path("/login")),$q.reject(rejection)}}})})}).call(this);